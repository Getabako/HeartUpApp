<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚«ãƒ©ãƒ¼ã‚ºFC ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', 'Yu Gothic', 'Meiryo', sans-serif;
            background: linear-gradient(135deg, #2e7d32 0%, #4caf50 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .main-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .action-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
        }

        .action-card h3 {
            color: #2e7d32;
            margin-bottom: 10px;
            font-size: 20px;
        }

        .action-card p {
            color: #666;
            font-size: 14px;
        }

        .children-list {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 20px;
        }

        .children-list h2 {
            color: #2e7d32;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .child-item {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 20px;
            align-items: center;
            transition: border-color 0.3s;
        }

        .child-item:hover {
            border-color: #4caf50;
        }

        .child-info h3 {
            color: #333;
            margin-bottom: 8px;
        }

        .child-info p {
            color: #666;
            font-size: 14px;
            margin: 4px 0;
        }

        .child-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: opacity 0.3s;
        }

        .btn:hover {
            opacity: 0.8;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
            color: white;
        }

        .btn-secondary {
            background: #4caf50;
            color: white;
        }

        .btn-tertiary {
            background: #ff9800;
            color: white;
        }

        .btn-quaternary {
            background: #2196f3;
            color: white;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 12px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            width: 90%;
        }

        .modal-content h2 {
            color: #2e7d32;
            margin-bottom: 20px;
        }

        .close-modal {
            float: right;
            font-size: 28px;
            cursor: pointer;
            color: #999;
        }

        .close-modal:hover {
            color: #333;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 28px;
            }

            .child-item {
                grid-template-columns: 1fr;
            }

            .child-actions {
                justify-content: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ã‚«ãƒ©ãƒ¼ã‚ºFC ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </h1>
            <p>ãŠå­æ§˜ã®ç‰¹æ€§ç®¡ç†ãƒ»æ”¯æ´è¨ˆç”»ãƒ»æ—¥ã€…ã®è¨˜éŒ²ã‚’ä¸€å…ƒç®¡ç†</p>
        </header>

        <div class="main-actions">
            <div class="action-card" onclick="window.location.href='assessment/form.html'">
                <h3>ğŸ“ æ–°è¦ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆä½œæˆ</h3>
                <p>æ–°ã—ã„ãŠå­æ§˜ã®ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆã‚·ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™</p>
            </div>
            <div class="action-card" onclick="showAllAssessments()">
                <h3>ğŸ“‹ ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆä¸€è¦§</h3>
                <p>ç™»éŒ²æ¸ˆã¿ã®ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆã‚·ãƒ¼ãƒˆã‚’ç¢ºèªã—ã¾ã™</p>
            </div>
            <div class="action-card" onclick="showAllSupportPlans()">
                <h3>ğŸ“Š æ”¯æ´è¨ˆç”»ä¸€è¦§</h3>
                <p>ä½œæˆæ¸ˆã¿ã®æ”¯æ´è¨ˆç”»ã‚’ç¢ºèªã—ã¾ã™</p>
            </div>
            <div class="action-card" onclick="showAllReports()">
                <h3>ğŸ“ˆ æˆé•·è¨˜éŒ²ä¸€è¦§</h3>
                <p>æ—¥ã€…ã®è¨˜éŒ²ã¨æˆé•·ã®æŒ¯ã‚Šè¿”ã‚Šã‚’ç¢ºèªã—ã¾ã™</p>
            </div>
        </div>

        <div class="children-list">
            <h2>ç™»éŒ²å…ç«¥ä¸€è¦§</h2>
            <div id="childrenContainer">
                <div class="empty-state">
                    <h3>ã¾ã ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å…ç«¥ã¯ã„ã¾ã›ã‚“</h3>
                    <p>ã€Œæ–°è¦ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆä½œæˆã€ã‹ã‚‰å§‹ã‚ã¦ãã ã•ã„</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for viewing assessment -->
    <div id="assessmentModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('assessmentModal')">&times;</span>
            <div id="assessmentContent"></div>
        </div>
    </div>

    <script type="module">
        import { generateWithGemini } from './config.js';

        // Load and display children
        function loadChildren() {
            const assessments = JSON.parse(localStorage.getItem('assessments') || '{}');
            const container = document.getElementById('childrenContainer');

            if (Object.keys(assessments).length === 0) {
                return;
            }

            container.innerHTML = '';

            Object.entries(assessments).forEach(([fileName, assessment]) => {
                const childData = assessment.data;
                const childItem = document.createElement('div');
                childItem.className = 'child-item';
                childItem.innerHTML = `
                    <div class="child-info">
                        <h3>${childData.childName}ï¼ˆ${childData.childNameKana}ï¼‰</h3>
                        <p>ç”Ÿå¹´æœˆæ—¥: ${childData.birthDate} | æ€§åˆ¥: ${childData.gender || 'æœªå›ç­”'}</p>
                        <p>è¨ºæ–­å: ${childData.diagnosis || 'ãªã—'}</p>
                        <p>ç™»éŒ²æ—¥: ${new Date(assessment.createdAt).toLocaleDateString('ja-JP')}</p>
                    </div>
                    <div class="child-actions">
                        <button class="btn btn-primary" onclick="viewAssessment('${fileName}')">ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆè¡¨ç¤º</button>
                        <button class="btn btn-secondary" onclick="generateSupportPlan('${fileName}')">æ”¯æ´è¨ˆç”»ä½œæˆ</button>
                        <button class="btn btn-tertiary" onclick="createDailyReport('${fileName}')">æ—¥ã€…ã®è¨˜éŒ²</button>
                        <button class="btn btn-quaternary" onclick="createReview('${fileName}')">æˆé•·æŒ¯ã‚Šè¿”ã‚Š</button>
                    </div>
                `;
                container.appendChild(childItem);
            });
        }

        window.viewAssessment = function(fileName) {
            const assessments = JSON.parse(localStorage.getItem('assessments') || '{}');
            const assessment = assessments[fileName];

            const modal = document.getElementById('assessmentModal');
            const content = document.getElementById('assessmentContent');
            content.innerHTML = assessment.html;
            modal.classList.add('active');
        };

        window.closeModal = function(modalId) {
            document.getElementById(modalId).classList.remove('active');
        };

        window.generateSupportPlan = async function(fileName) {
            const assessments = JSON.parse(localStorage.getItem('assessments') || '{}');
            const assessment = assessments[fileName];

            if (!assessment) {
                alert('ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                return;
            }

            const confirmMsg = `${assessment.data.childName}ã•ã‚“ã®æ”¯æ´è¨ˆç”»ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ`;
            if (!confirm(confirmMsg)) return;

            try {
                // Generate support plan using Gemini API
                const prompt = `
ä»¥ä¸‹ã®ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆæƒ…å ±ã«åŸºã¥ã„ã¦ã€å…ç«¥ç™ºé”æ”¯æ´ã®ãŸã‚ã®å€‹åˆ¥æ”¯æ´è¨ˆç”»ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

å…ç«¥å: ${assessment.data.childName}
è¨ºæ–­å: ${assessment.data.diagnosis || 'ãªã—'}

ã€è©•ä¾¡æƒ…å ±ã€‘
å¯¾äººãƒ»ç¤¾ä¼šæ€§:
- å ´é¢ã‚„æŒ‡ç¤ºã®ç†è§£: ${assessment.data.situationEpisode}
- å…±æ„Ÿæ€§: ${assessment.data.empathyEpisode}
- ç¤¾ä¼šçš„ãƒ«ãƒ¼ãƒ«: ${assessment.data.cooperation}
- ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³: ${assessment.data.communicationDetails}
- ã“ã ã‚ã‚Š: ${assessment.data.persistence}

è¡Œå‹•ãƒ»æƒ…ç·’:
- æŒ‡ç¤ºã®å—ã‘å…¥ã‚Œ: ${assessment.data.instructionDetails}
- é›†ä¸­åŠ›: ${assessment.data.concentrationDetails}
- å¤šå‹•æ€§: ${assessment.data.hyperactivityDetails}
- è¡å‹•æ€§: ${assessment.data.impulsivityDetails}
- ãƒ‘ãƒ‹ãƒƒã‚¯: ${assessment.data.panicDetails}

èº«ä½“ãƒ»é‹å‹•:
- ç²—å¤§é‹å‹•: ${assessment.data.grossMotorDetails}
- å¾®ç´°é‹å‹•: ${assessment.data.fineMotorDetails}
- ãƒãƒ©ãƒ³ã‚¹: ${assessment.data.balanceDetails}

ãã®ä»–:
- ç”Ÿæ´»ç¿’æ…£: ${assessment.data.dailyLivingDetails}
- å®¶åº­ã§ã®é…æ…®: ${assessment.data.familySupport}

ã€æ”¯æ´è¨ˆç”»ã«å«ã‚ã‚‹å†…å®¹ã€‘
1. é•·æœŸç›®æ¨™ï¼ˆ6ãƒ¶æœˆã€œ1å¹´ï¼‰
2. çŸ­æœŸç›®æ¨™ï¼ˆ1ã€œ3ãƒ¶æœˆï¼‰
3. å…·ä½“çš„ãªæ”¯æ´å†…å®¹ã¨æ–¹æ³•
4. å®¶åº­ã¨ã®é€£æºäº‹é …
5. è©•ä¾¡æ™‚æœŸã¨æ–¹æ³•

HTMLãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€è¦‹ã‚„ã™ãæ•´ç†ã•ã‚ŒãŸæ”¯æ´è¨ˆç”»æ›¸ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
`;

                const supportPlanHTML = await generateWithGemini(prompt);

                // Save support plan
                const supportPlans = JSON.parse(localStorage.getItem('supportPlans') || '{}');
                const planFileName = `${assessment.data.childName}_æ”¯æ´è¨ˆç”»_${new Date().toISOString().split('T')[0]}.html`;
                supportPlans[planFileName] = {
                    html: supportPlanHTML,
                    childName: assessment.data.childName,
                    fileName: fileName,
                    createdAt: new Date().toISOString()
                };
                localStorage.setItem('supportPlans', JSON.stringify(supportPlans));

                alert('æ”¯æ´è¨ˆç”»ãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼');

                // Display the plan
                const modal = document.getElementById('assessmentModal');
                const content = document.getElementById('assessmentContent');
                content.innerHTML = supportPlanHTML;
                modal.classList.add('active');
            } catch (error) {
                console.error('Error generating support plan:', error);
                alert('æ”¯æ´è¨ˆç”»ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
            }
        };

        window.createDailyReport = async function(fileName) {
            const assessments = JSON.parse(localStorage.getItem('assessments') || '{}');
            const assessment = assessments[fileName];

            if (!assessment) {
                alert('ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                return;
            }

            const activity = prompt(`${assessment.data.childName}ã•ã‚“ã®æœ¬æ—¥ã®æ´»å‹•å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:`);
            if (!activity) return;

            const observation = prompt('æœ¬æ—¥ã®æ§˜å­ã‚„æ°—ã¥ã„ãŸã“ã¨ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:');
            if (!observation) return;

            try {
                // Get latest support plan
                const supportPlans = JSON.parse(localStorage.getItem('supportPlans') || '{}');
                const childPlans = Object.entries(supportPlans)
                    .filter(([key, plan]) => plan.childName === assessment.data.childName)
                    .sort((a, b) => new Date(b[1].createdAt) - new Date(a[1].createdAt));

                const latestPlan = childPlans[0]?.[1];

                const prompt = `
å…ç«¥ç™ºé”æ”¯æ´ã®æ—¥ã€…ã®æŒ‡å°è¨˜éŒ²ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

å…ç«¥å: ${assessment.data.childName}
æ—¥ä»˜: ${new Date().toLocaleDateString('ja-JP')}

ã€æœ¬æ—¥ã®æ´»å‹•ã€‘
${activity}

ã€è¦³å¯Ÿå†…å®¹ã€‘
${observation}

ã€å‚è€ƒæƒ…å ±ã€‘
ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆæƒ…å ±:
- è¨ºæ–­å: ${assessment.data.diagnosis || 'ãªã—'}
- ä¸»ãªç‰¹æ€§: ${assessment.data.situationEpisode}, ${assessment.data.communicationDetails}

${latestPlan ? `æ”¯æ´è¨ˆç”»ç›®æ¨™: ${latestPlan.html}` : ''}

ã€è¨˜éŒ²ã«å«ã‚ã‚‹å†…å®¹ã€‘
1. æ´»å‹•å†…å®¹
2. å…ç«¥ã®åå¿œã¨æ§˜å­
3. æ”¯æ´è¨ˆç”»ã¨ã®é–¢é€£
4. æˆé•·ãŒè¦‹ã‚‰ã‚ŒãŸç‚¹
5. ä»Šå¾Œã®æ”¯æ´ã§æ³¨æ„ã™ã¹ãç‚¹

HTMLãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€è¦‹ã‚„ã™ãæ•´ç†ã•ã‚ŒãŸæ—¥ã€…ã®è¨˜éŒ²ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
`;

                const reportHTML = await generateWithGemini(prompt);

                // Save daily report
                const dailyReports = JSON.parse(localStorage.getItem('dailyReports') || '{}');
                const reportFileName = `${assessment.data.childName}_è¨˜éŒ²_${new Date().toISOString().split('T')[0]}.html`;
                dailyReports[reportFileName] = {
                    html: reportHTML,
                    childName: assessment.data.childName,
                    fileName: fileName,
                    activity: activity,
                    observation: observation,
                    createdAt: new Date().toISOString()
                };
                localStorage.setItem('dailyReports', JSON.stringify(dailyReports));

                alert('æ—¥ã€…ã®è¨˜éŒ²ãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼');

                // Display the report
                const modal = document.getElementById('assessmentModal');
                const content = document.getElementById('assessmentContent');
                content.innerHTML = reportHTML;
                modal.classList.add('active');
            } catch (error) {
                console.error('Error creating daily report:', error);
                alert('æ—¥ã€…ã®è¨˜éŒ²ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
            }
        };

        window.createReview = async function(fileName) {
            const assessments = JSON.parse(localStorage.getItem('assessments') || '{}');
            const assessment = assessments[fileName];

            if (!assessment) {
                alert('ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                return;
            }

            const confirmMsg = `${assessment.data.childName}ã•ã‚“ã®æˆé•·ã®æŒ¯ã‚Šè¿”ã‚Šã‚’ä½œæˆã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ`;
            if (!confirm(confirmMsg)) return;

            try {
                // Get all related data
                const supportPlans = JSON.parse(localStorage.getItem('supportPlans') || '{}');
                const dailyReports = JSON.parse(localStorage.getItem('dailyReports') || '{}');
                const reviews = JSON.parse(localStorage.getItem('reviews') || '{}');

                const childPlans = Object.entries(supportPlans)
                    .filter(([key, plan]) => plan.childName === assessment.data.childName);

                const childReports = Object.entries(dailyReports)
                    .filter(([key, report]) => report.childName === assessment.data.childName)
                    .sort((a, b) => new Date(b[1].createdAt) - new Date(a[1].createdAt))
                    .slice(0, 10); // Last 10 reports

                const previousReviews = Object.entries(reviews)
                    .filter(([key, review]) => review.childName === assessment.data.childName)
                    .sort((a, b) => new Date(b[1].createdAt) - new Date(a[1].createdAt));

                const prompt = `
å…ç«¥ç™ºé”æ”¯æ´ã®æˆé•·ã®æŒ¯ã‚Šè¿”ã‚Šãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

å…ç«¥å: ${assessment.data.childName}
ä½œæˆæ—¥: ${new Date().toLocaleDateString('ja-JP')}

ã€ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆæƒ…å ±ã€‘
è¨ºæ–­å: ${assessment.data.diagnosis || 'ãªã—'}
ä¸»ãªç‰¹æ€§:
- ${assessment.data.situationEpisode}
- ${assessment.data.communicationDetails}

ã€æ”¯æ´è¨ˆç”»ã€‘
${childPlans.map(([key, plan]) => plan.html).join('\n')}

ã€æœ€è¿‘ã®æ´»å‹•è¨˜éŒ²ï¼ˆç›´è¿‘10ä»¶ï¼‰ã€‘
${childReports.map(([key, report]) => `
æ—¥ä»˜: ${new Date(report.createdAt).toLocaleDateString('ja-JP')}
æ´»å‹•: ${report.activity}
è¦³å¯Ÿ: ${report.observation}
`).join('\n')}

${previousReviews.length > 0 ? `
ã€éå»ã®æŒ¯ã‚Šè¿”ã‚Šã€‘
${previousReviews[0][1].html}
` : ''}

ã€æŒ¯ã‚Šè¿”ã‚Šãƒ¬ãƒãƒ¼ãƒˆã«å«ã‚ã‚‹å†…å®¹ã€‘
1. ã“ã®æœŸé–“ã®å…¨ä½“çš„ãªæˆé•·ã®æ§˜å­
2. æ”¯æ´è¨ˆç”»ã®é”æˆçŠ¶æ³
3. ç‰¹ã«æˆé•·ãŒè¦‹ã‚‰ã‚ŒãŸé ˜åŸŸ
4. ã¾ã æ”¯æ´ãŒå¿…è¦ãªé ˜åŸŸ
5. ä»Šå¾Œã®æ”¯æ´ã®æ–¹å‘æ€§
6. ä¿è­·è€…ã¸ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

HTMLãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€ã‚°ãƒ©ãƒ•ã‚„è¡¨ã‚’ä½¿ç”¨ã—ã¦è¦–è¦šçš„ã«åˆ†ã‹ã‚Šã‚„ã™ã„æŒ¯ã‚Šè¿”ã‚Šãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
`;

                const reviewHTML = await generateWithGemini(prompt);

                // Save review
                const reviewFileName = `${assessment.data.childName}_æŒ¯ã‚Šè¿”ã‚Š_${new Date().toISOString().split('T')[0]}.html`;
                reviews[reviewFileName] = {
                    html: reviewHTML,
                    childName: assessment.data.childName,
                    fileName: fileName,
                    createdAt: new Date().toISOString()
                };
                localStorage.setItem('reviews', JSON.stringify(reviews));

                alert('æˆé•·ã®æŒ¯ã‚Šè¿”ã‚ŠãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼');

                // Display the review
                const modal = document.getElementById('assessmentModal');
                const content = document.getElementById('assessmentContent');
                content.innerHTML = reviewHTML;
                modal.classList.add('active');
            } catch (error) {
                console.error('Error creating review:', error);
                alert('æˆé•·ã®æŒ¯ã‚Šè¿”ã‚Šã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
            }
        };

        window.showAllAssessments = function() {
            alert('ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆä¸€è¦§æ©Ÿèƒ½ã¯é–‹ç™ºä¸­ã§ã™');
        };

        window.showAllSupportPlans = function() {
            alert('æ”¯æ´è¨ˆç”»ä¸€è¦§æ©Ÿèƒ½ã¯é–‹ç™ºä¸­ã§ã™');
        };

        window.showAllReports = function() {
            alert('æˆé•·è¨˜éŒ²ä¸€è¦§æ©Ÿèƒ½ã¯é–‹ç™ºä¸­ã§ã™');
        };

        // Initialize
        loadChildren();
    </script>
</body>
</html>
